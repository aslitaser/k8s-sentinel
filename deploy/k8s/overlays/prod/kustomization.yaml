apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
  - ../../base

# Prod: 3 replicas (the base default, stated explicitly for clarity)
replicas:
  - name: k8s-sentinel
    count: 3

# In production the base configmap already has mode: enforce and the
# cert-manager Issuer is self-signed. Replace the Issuer with one backed
# by your internal CA by adding a patch here, e.g.:
#
# patches:
#   - target:
#       kind: Issuer
#       name: k8s-sentinel-selfsigned
#     patch: |
#       apiVersion: cert-manager.io/v1
#       kind: Issuer
#       metadata:
#         name: k8s-sentinel-selfsigned
#       spec:
#         ca:
#           secretName: internal-ca-key-pair
